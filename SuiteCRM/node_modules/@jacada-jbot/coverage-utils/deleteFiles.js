const fs = require('fs');
const CURR_DIR = process.cwd();

if (fs.existsSync(`${CURR_DIR}/include`)){
    deleteAllFiles(`${CURR_DIR}/include`);
}

if (fs.existsSync(`${CURR_DIR}/interfaces`)){
	deleteAllFiles(`${CURR_DIR}/interfaces`);
}


function deleteAllFiles (path) {
    try {
        const filesToDelete  = fs.readdirSync(path);
  
        filesToDelete.forEach(file => {
          const origFilePath = `${path}/${file}`;
          
          // get stats about the current file
          const stats = fs.statSync(origFilePath);
      
          if (stats.isFile()) {
            fs.unlinkSync(origFilePath);
          } else if (stats.isDirectory()) {
            // recursive call
            deleteAllFiles(origFilePath);
            fs.rmdirSync(origFilePath);
          }
        });
    } catch (e){
        console.log("Exception while deleting files in " + path, e);
    }
}
